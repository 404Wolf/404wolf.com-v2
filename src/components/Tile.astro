---
import { cva } from "class-variance-authority";

export interface Props {
  title?: string;
  kind?: "detail" | "heading" | "content";
  direction?: "left" | "right";
  className?: string;
}

const styles = cva(["p-6 bg-slate-100 rounded-lg relative"], {
  variants: {
    kind: {
      detail: "bg-gray-700 text-white rounded-full",
      heading: "bg-gray-500 text-white rounded-lg",
      content: "bg-gray-300 text-black rounded-lg shadow-lg",
    },
    direction: {
      left: "",
      right: "",
    },
  },
  defaultVariants: {
    kind: "content",
    direction: "left",
  },
});

const { title, direction = "left", className } = Astro.props;

const titlePositionClass = direction === "right" 
  ? "absolute -top-2 -right-2" 
  : "absolute -top-2 -left-2";
---

<div class={styles({ kind: Astro.props.kind, direction, class: className })}>
  {
    title && (
      <div class={`bg-slate-600 text-white rounded-xl px-3 py-1 ${titlePositionClass} z-10`}>
        <div class="font-semibold text-sm">{title}</div>
      </div>
    )
  }

  <slot />
</div>
